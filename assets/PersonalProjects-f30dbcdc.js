import{u as e,c as s,r as a,b as r}from"./vendor-0df5e6d0.js";import{a as l}from"./index-1c5a3f8d.js";import{m as i}from"./animations-7bba3a4b.js";const t=({onProjectClick:t})=>{const{ref:c,inView:n}=e({threshold:.2,triggerOnce:!0}),{t:o}=s(),[d,h]=a.useState(0),p=a.useRef(null),j=l();if(!Array.isArray(j))return console.warn("Personal projects data is not an array:",j),r.jsxs("section",{id:"personal-projects",className:"section",children:[r.jsx("div",{className:"section-head",children:r.jsx("h3",{className:"section-title glow",children:o("personalProjects.title")})}),r.jsx("div",{className:"cards",children:r.jsx("p",{children:"个人项目数据加载中..."})})]});const m={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}},x=e=>{if(p.current){const s=e*492;p.current.scrollTo({left:s,behavior:"smooth"}),h(e)}},v=()=>{if(p.current){const e=492,s=p.current.scrollLeft,a=Math.round(s/e);h(a)}};return a.useEffect(()=>{const e=p.current;if(e)return e.addEventListener("scroll",v),()=>e.removeEventListener("scroll",v)},[]),r.jsxs("section",{id:"personal-projects",className:"section",children:[r.jsx("div",{className:"section-head",children:r.jsx("h3",{className:"section-title glow",children:o("personalProjects.title")})}),r.jsxs("div",{className:"personal-projects-container",children:[r.jsx(i.div,{ref:c,className:"personal-projects-scroll",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},initial:"hidden",animate:n?"visible":"hidden",children:r.jsx("div",{ref:p,className:"personal-projects-carousel",children:j.map((e,s)=>r.jsxs(i.article,{className:"personal-project-card glass",variants:m,whileHover:{y:-8,scale:1.02,transition:{type:"spring",stiffness:400,damping:10}},whileTap:{scale:.98},children:[r.jsxs("div",{className:"project-image-container",children:[r.jsx("img",{src:e.image,alt:e.title,className:"project-image",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),r.jsxs("div",{className:"project-image-placeholder",style:{display:"none"},children:[r.jsx("div",{className:"placeholder-icon",children:"🚀"}),r.jsx("span",{children:"项目配图"})]})]}),r.jsxs("div",{className:"project-content",children:[r.jsxs("header",{className:"project-header",children:[r.jsx("h4",{className:"project-title",children:e.title}),r.jsx("span",{className:"project-period",children:e.period})]}),e.tag&&r.jsx("div",{className:"project-tag",children:r.jsx("span",{className:"tag-text",children:e.tag})}),r.jsx("div",{className:"project-preview",children:r.jsx("p",{children:e.details[0]})})]}),r.jsx("button",{className:"project-plus-btn",onClick:()=>(e=>{t(e,"personal")})(e),whileHover:{scale:1.1},whileTap:{scale:.9},children:r.jsx("span",{children:"+"})})]},s))})}),r.jsxs("div",{className:"carousel-controls",children:[r.jsx("button",{className:"carousel-btn carousel-btn-prev",onClick:()=>{const e=d>0?d-1:j.length-1;x(e)},whileHover:{scale:1.1},whileTap:{scale:.9},children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M15 18l-6-6 6-6"})})}),r.jsx("button",{className:"carousel-btn carousel-btn-next",onClick:()=>{const e=d<j.length-1?d+1:0;x(e)},whileHover:{scale:1.1},whileTap:{scale:.9},children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M9 18l6-6-6-6"})})})]})]})]})};export{t as default};
